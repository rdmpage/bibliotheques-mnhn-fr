<?php

$ids=array(
'NOTUL_S000_1938_T007_N001',
'NOTUL_S000_1909_T001_N001',
'NOTUL_S000_1911_T002_N001',
'NOTUL_S000_1920_T004_N001',
'NOTUL_S000_1935_T005_N001',
'NOTUL_S000_1937_T006_N001',
'NOTUL_S000_1939_T008_N001',
'NOTUL_S000_1940_T009_N001',
'NOTUL_S000_1941_T010_N001',
'NOTUL_S000_1943_T011_N001',
'NOTUL_S000_1945_T012_N001',
'NOTUL_S000_1947_T013_N001',
'NOTUL_S000_1950_T014_N001',
'NOTUL_S000_1954_T015_N001',
'NOTUL_S000_1960_T016_N001'
);

$basedir = 'pdf-NOTUL';

$ids=array(
'BUMHN_S001_1895_T001_N001',
'BUMHN_S001_1895_T001_N002',
'BUMHN_S001_1895_T001_N003',
'BUMHN_S001_1895_T001_N004',
'BUMHN_S001_1895_T001_N005',
'BUMHN_S001_1895_T001_N006',
'BUMHN_S001_1895_T001_N007',
'BUMHN_S001_1895_T001_N008',
'BUMHN_S001_1896_T002_N001',
'BUMHN_S001_1896_T002_N002',
'BUMHN_S001_1896_T002_N003',
'BUMHN_S001_1896_T002_N004',
'BUMHN_S001_1896_T002_N005',
'BUMHN_S001_1896_T002_N006',
'BUMHN_S001_1896_T002_N007',
'BUMHN_S001_1896_T002_N008',
'BUMHN_S001_1897_T003_N001',
'BUMHN_S001_1897_T003_N002',
'BUMHN_S001_1897_T003_N003',
'BUMHN_S001_1897_T003_N004',
'BUMHN_S001_1897_T003_N005',
'BUMHN_S001_1897_T003_N006',
'BUMHN_S001_1897_T003_N007',
'BUMHN_S001_1897_T003_N008',
'BUMHN_S001_1898_T004_N001',
'BUMHN_S001_1898_T004_N002',
'BUMHN_S001_1898_T004_N003',
'BUMHN_S001_1898_T004_N004',
'BUMHN_S001_1898_T004_N005',
'BUMHN_S001_1898_T004_N006',
'BUMHN_S001_1898_T004_N007',
'BUMHN_S001_1898_T004_N008',
'BUMHN_S001_1899_T005_N001',
'BUMHN_S001_1899_T005_N002',
'BUMHN_S001_1899_T005_N003',
'BUMHN_S001_1899_T005_N004',
'BUMHN_S001_1899_T005_N005',
'BUMHN_S001_1899_T005_N006',
'BUMHN_S001_1899_T005_N007',
'BUMHN_S001_1899_T005_N008',
'BUMHN_S001_1900_T006_N001',
'BUMHN_S001_1900_T006_N002',
'BUMHN_S001_1900_T006_N003',
'BUMHN_S001_1900_T006_N004',
'BUMHN_S001_1900_T006_N005',
'BUMHN_S001_1900_T006_N006',
'BUMHN_S001_1900_T006_N007',
'BUMHN_S001_1900_T006_N008',
'BUMHN_S001_1901_T007_N001',
'BUMHN_S001_1901_T007_N002',
'BUMHN_S001_1901_T007_N003',
'BUMHN_S001_1901_T007_N004',
'BUMHN_S001_1901_T007_N005',
'BUMHN_S001_1901_T007_N006',
'BUMHN_S001_1901_T007_N007',
'BUMHN_S001_1901_T007_N008',
'BUMHN_S001_1902_T008_N001',
'BUMHN_S001_1902_T008_N002',
'BUMHN_S001_1902_T008_N003',
'BUMHN_S001_1902_T008_N004',
'BUMHN_S001_1902_T008_N005',
'BUMHN_S001_1902_T008_N006',
'BUMHN_S001_1902_T008_N007',
'BUMHN_S001_1902_T008_N008',
'BUMHN_S001_1903_T009_N001',
'BUMHN_S001_1903_T009_N002',
'BUMHN_S001_1903_T009_N003',
'BUMHN_S001_1903_T009_N004',
'BUMHN_S001_1903_T009_N005',
'BUMHN_S001_1903_T009_N006',
'BUMHN_S001_1903_T009_N007',
'BUMHN_S001_1903_T009_N008',
'BUMHN_S001_1904_T010_N001',
'BUMHN_S001_1904_T010_N002',
'BUMHN_S001_1904_T010_N003',
'BUMHN_S001_1904_T010_N004',
'BUMHN_S001_1904_T010_N005',
'BUMHN_S001_1904_T010_N006',
'BUMHN_S001_1904_T010_N007',
'BUMHN_S001_1904_T010_N008',
'BUMHN_S001_1905_T011_N001',
'BUMHN_S001_1905_T011_N002',
'BUMHN_S001_1905_T011_N003',
'BUMHN_S001_1905_T011_N004',
'BUMHN_S001_1905_T011_N005',
'BUMHN_S001_1905_T011_N006',
'BUMHN_S001_1906_T012_N001',
'BUMHN_S001_1906_T012_N002',
'BUMHN_S001_1906_T012_N003',
'BUMHN_S001_1906_T012_N004',
'BUMHN_S001_1906_T012_N005',
'BUMHN_S001_1906_T012_N006',
'BUMHN_S001_1906_T012_N007',
'BUMHN_S001_1907_T013_N001',

);

$basedir = 'pdf-BUMHN';

$ids=array(
'BMBAD_S004_1981_T003_N001',
'BMBAD_S004_1981_T003_N002',
'BMBAD_S004_1981_T003_N003',
'BMBAD_S004_1981_T003_N004',
'BMBAD_S004_1982_T004_N001',
'BMBAD_S004_1982_T004_N003',
'BMBAD_S004_1983_T005_N001',
'BMBAD_S004_1983_T005_N002',
'BMBAD_S004_1983_T005_N003',
'BMBAD_S004_1983_T005_N004',
'BMBAD_S004_1984_T006_N001',
'BMBAD_S004_1984_T006_N002',
'BMBAD_S004_1984_T006_N003',
'BMBAD_S004_1984_T006_N004',
'BMBAD_S004_1985_T007_N001',
'BMBAD_S004_1985_T007_N002',
'BMBAD_S004_1985_T007_N003',
'BMBAD_S004_1985_T007_N004',
'BMBAD_S004_1986_T008_N001',
'BMBAD_S004_1986_T008_N002',
'BMBAD_S004_1986_T008_N003',
'BMBAD_S004_1986_T008_N004',
'BMBAD_S004_1987_T009_N001',
'BMBAD_S004_1987_T009_N002',
'BMBAD_S004_1987_T009_N003',
'BMBAD_S004_1987_T009_N004',
'BMBAD_S004_1988_T010_N001',
'BMBAD_S004_1988_T010_N002',
'BMBAD_S004_1988_T010_N003',
'BMBAD_S004_1988_T010_N004',
'BMBAD_S004_1989_T011_N001',
'BMBAD_S004_1989_T011_N002',
'BMBAD_S004_1989_T011_N003',
'BMBAD_S004_1989_T011_N004',
'BMBAD_S004_1990_T012_N001',
'BMBAD_S004_1990_T012_N002',
'BMBAD_S004_1990_T012_N003',
'BMBAD_S004_1991_T013_N001',
'BMBAD_S004_1991_T013_N003',
'BMBAD_S004_1992_T014_N001',
'BMBAD_S004_1992_T014_N002',
'BMBAD_S004_1992_T014_N003',
'BMBAD_S004_1993_T015_N001',
'BMBAD_S004_1994_T016_N001',
'BMBAD_S004_1994_T016_N002',
'BMBAD_S004_1995_T017_N001',
'BMBAD_S004_1995_T017_N003',
'BMBAD_S004_1996_T018_N001',
'BMBAD_S004_1996_T018_N003',
);

$basedir = 'pdf-BMBAD';

$ids=array(
'BMBOT_S004_1979_T001_N001',
'BMBOT_S004_1979_T001_N002',
'BMBOT_S004_1979_T001_N003',
'BMBOT_S004_1979_T001_N004',
'BMBOT_S004_1980_T002_N001',
'BMBOT_S004_1980_T002_N002',
'BMBOT_S004_1980_T002_N003',
'BMBOT_S004_1980_T002_N004',
);

$basedir = 'pdf-BMBOT';

$count = 1;




foreach ($ids as $id)
{
	$pdf = 'http://bibliotheques.mnhn.fr/EXPLOITATION/infodoc/ged/viewportalpublished.ashx?eid=IFD_FICJOINT_' . $id . '_1';

	$article_pdf_filename = $basedir . '/' . $id . '.pdf';
	
	if (!file_exists($article_pdf_filename))
	{
		$command = "wget --timeout=20 --tries=4 '" . $pdf . "' -O '$article_pdf_filename'";
		echo $command . "\n";
		system ($command);

		
			
		// Give server a break every 10 items
		if (($count++ % 1) == 0)
		{
			$rand = rand(1000000, 10000000);
			echo "\n-- ...sleeping for " . round(($rand / 1000000),2) . ' seconds' . "\n\n";
			usleep($rand);
		}
		
	
	}
	

	


}